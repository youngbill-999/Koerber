<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
 <HEAD>
 <LINK REL="STYLESHEET" TYPE="text/css" HREF="../../plsqldoc.css">
 <TITLE>View SHIP_V_ORDER_ASGMT_BOTTOM</TITLE>
 <META name="object" content="VIEW">
 <META name="name" content="10.9.92.109:1521/INCOMPD INWMS.SHIP_V_ORDER_ASGMT_BOTTOM">
 <META name="description" content="">
 <META name="columns" content="ID_SITE OAB_ID ID_LOADING ID_CLIENT ID_ORDER NUM_PARTIAL_ORDER STAT TYP_ORDER PRIORITY_CURR TS_SHIPPING_TARGET ID_PACKAGE STAT_PACKAGE WT_CURR VOL_CURR ID_STAGING_AREA">
</HEAD>
<BODY>
<TABLE WIDTH="100%"><TR>
<TD><P ALIGN="LEFT"><STRONG><SMALL>INWMS@10.9.92.109:1521/INCOMPD</SMALL></STRONG></TD>
<TD><P ALIGN="RIGHT"><STRONG><SMALL><A HREF="../../index.html">index</A></SMALL></STRONG></TD>
</TR></TABLE>
<TABLE CLASS="MAIN_TABLE"><TR><TD CLASS="DESC_TEXT">
<P CLASS="MAIN_TITLE">View SHIP_V_ORDER_ASGMT_BOTTOM</P>

</TD></TR></TABLE>
<HR>
<A NAME="Columns"></A>
<TABLE CLASS="SUB_TABLE"><TR><TD CLASS="SUB_TITLE">
Columns
</TD></TR></TABLE>
<TABLE CLASS="SIMPLE_TABLE">
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM"><U>
Name
</U>
</TD>
<TD VALIGN="TOP" CLASS="LIST_ITEM"><U>
Type
</U>
</TD>
<TD VALIGN="TOP" CLASS="LIST_ITEM"><U>
Optional
</U>
</TD>
<TD VALIGN="TOP" CLASS="LIST_ITEM"><U>
Default
</U>
</TD>
<TD VALIGN="TOP" CLASS="LIST_ITEM"><U>
Comments
</U>
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
ID_SITE
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(48)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
OAB_ID
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(424)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
ID_LOADING
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(48)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
ID_CLIENT
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(48)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
ID_ORDER
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(48)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
NUM_PARTIAL_ORDER
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
NUMBER(4)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
STAT
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(8)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
TYP_ORDER
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(24)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
PRIORITY_CURR
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
NUMBER(3)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
TS_SHIPPING_TARGET
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
DATE
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
ID_PACKAGE
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(48)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
STAT_PACKAGE
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(8)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
WT_CURR
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
NUMBER
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
VOL_CURR
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
NUMBER
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
<TR>
<TD VALIGN="TOP" CLASS="LIST_ITEM">
ID_STAGING_AREA
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
VARCHAR2(80)
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
Y
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
<TD VALIGN="TOP" CLASS="DESC_TEXT">
&nbsp;
</TD>
</TR>
</TABLE>
<HR>
<A NAME="SQL"></A>
<TABLE CLASS="SUB_TABLE"><TR><TD CLASS="SUB_TITLE">
SQL
</TD></TR></TABLE><PRE CLASS="DECL_TEXT">
create or replace view ship_v_order_asgmt_bottom as
select id_site,
-----------------------------------------------------------------------------
-- Component  : WMS_SHIPPING
-- HEAD URL   : $URL: svn://ifbsrc1/Bend2.0/IWFComponent/development/10_wms/wms_shipping/trunk/Component/db/dbobj/views/ship_v_order_asgmt_bottom.vew $
-- Revision   : $Rev: 38625 $
-- Change at  : $Id: ship_v_order_asgmt_bottom.vew 38625 2019-09-03 06:21:45Z ljaeger $
-- Change by  : $Author: ljaeger $
-- Copyrights : (C) inconso AG, Germany
-- Description: View for SHIP100; lower block
-----------------------------------------------------------------------------
       id_site||'@'||
       id_loading||'@'||
       id_client||'@'||
       id_order||'@'||
       to_char(num_partial_order)||'@'||
       id_package||'@'                                     as oab_id,
       id_loading,
       id_client,
       id_order,
       num_partial_order,
       stat_order                                          as stat,
       typ_order,
       priority_curr,
       ts_shipping_target,
       id_package,
       stat_package,
       decode(id_package,null,sum(wt),wt_package)          as wt_curr,
       decode(id_package,null,sum(vol),vol_package)        as vol_curr,
       id_staging_area
from
(
select loa.id_site,
       loa.id_loading,
       oa.id_client,
       oa.id_order,
       oa.num_partial_order,
       ord.stat                                            as stat_order,
       ord.typ_order,
       ord.priority_curr,
       ord.ts_shipping_target,
       pba.id_package,
       pac.stat                                            as stat_package,
       coalesce(pr.wt,0)                                   as wt,
       coalesce(pr.vol,0)                                  as vol,
       coalesce(pac.wt_weighted,lu.wt_gross)               as wt_package,
       0                                                   as vol_package,
       coalesce(lsup.id_staging_area,lsuo.id_staging_area) as id_staging_area
  from load_loading loa,
       ship_order_asgmt oa,
       gi_order ord,
       load_loading_staging_usage lsuo,
       bps_process_record pr,
       pa_package_bps_asgmt pba,
       pa_package pac,
       load_package_loading_asgmt pla,
       load_loading_staging_usage lsup,
       im_load_unit lu
 where oa.id_site(+)             = loa.id_site
   and oa.id_loading(+)          = loa.id_loading
   and ord.id_site(+)            = oa.id_site
   and ord.id_client(+)          = oa.id_client
   and ord.id_order(+)           = oa.id_order
   and ord.num_partial_order(+)  = oa.num_partial_order
   and lsuo.id_site(+)           = oa.id_site
   and lsuo.id_loading(+)        = oa.id_loading
   and lsuo.num_item(+)          = oa.num_item
   and pr.typ_ref(+)             = 'ORDER_ITEM'
   and pr.id_ref_1(+)            = ord.id_site
   and pr.id_ref_2(+)            = ord.id_client
   and pr.id_ref_3(+)            = ord.id_order
   and pr.id_ref_4(+)            = ord.num_partial_order
   and pr.stat(+)               != '80'
   and pba.id_site(+)            = pr.id_site
   and pba.id_record(+)          = pr.id_record
   and pac.id_site(+)            = pba.id_site
   and pac.id_package(+)         = pba.id_package
   and pla.id_site(+)            = pac.id_site
   and pla.id_package(+)         = pac.id_package
   and lsup.id_site(+)           = pla.id_site
   and lsup.id_loading(+)        = pla.id_loading
   and lsup.num_item(+)          = pla.num_item
   and lu.id_site(+)             = pac.id_site
   and lu.id_lu(+)               = pac.id_lu
)
 group by id_site,
          id_loading,
          id_client,
          id_order,
          num_partial_order,
          stat_order,
          typ_order,
          priority_curr,
          ts_shipping_target,
          id_staging_area,
          id_package,
          stat_package,
          wt_package,
          vol_package
;
</PRE>
<P>&nbsp;</P>
<P>&nbsp;</P>
</BODY>
</HTML>
